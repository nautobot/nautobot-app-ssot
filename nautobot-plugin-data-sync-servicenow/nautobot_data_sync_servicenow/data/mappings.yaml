---
- table: "cmn_location"
  modelname: "location"
  mappings:
    - field: "name"
      column: "name"
    - field: "parent_location_name"
      reference:
        key: "parent"
        table: "cmn_location"
        column: "name"
- table: "cmdb_ci_ip_switch"
  modelname: "device"
  parent:
    modelname: "location"
    field: "location_name"
    column: "location"
  mappings:
    - field: "name"
      column: "name"
    - field: "location_name"
      reference:
        key: "location"
        table: "cmn_location"
        column: "name"
    - field: "model"
      reference:
        key: "model_id"
        table: "cmdb_model"
        column: "name"
    - field: "platform"
      reference:
        key: "{{ app_prefix }}platform"
        table: "{{ app_prefix }}platform"
        column: "name"
    - field: "role"
      reference:
        key: "{{ app_prefix }}device_role"
        table: "{{ app_prefix }}device_role"
        column: "name"
    - field: "vendor"
      reference:
        key: "manufacturer"
        table: "core_company"
        column: "name"
- table: "cmdb_ci_network_adapter"
  modelname: "interface"
  parent:
    modelname: "device"
    field: "device_name"
    column: "cmdb_ci"
  mappings:
    - field: "name"
      column: "name"
    - field: "device_name"
      reference:
        key: "cmdb_ci"
        table: "cmdb_ci_ip_switch"
        column: "name"
